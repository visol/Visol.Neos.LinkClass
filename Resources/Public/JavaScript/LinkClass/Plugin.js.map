{"version":3,"sources":["webpack:///webpack/bootstrap a2fc458754e86bec90ae","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/ckeditor5-exports/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/plow-js/index.js","webpack:///./src/index.js","webpack:///./src/manifest.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/createConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/package.json","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/manifest.js","webpack:///./src/linkEditorPlugin.js","webpack:///./src/linkAttributeCommand.js","webpack:///./src/_findLinkRange.js","webpack:///./src/_toMap.js","webpack:///./src/removeAttributeCommand.js","webpack:///./src/LinkEditorOptions.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react-redux/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-decorators/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-ckeditor5-bindings/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js"],"names":["readFromConsumerApi","key","window","Error","module","exports","CkEditor5","plow","require","addPlugin","Plugin","isEnabled","ckEditorConfiguration","options","editorOptions","plugins","config","globalRegistry","get","set","linkEditorPlugin","containerRegistry","LinkEditorOptions","createConsumerApi","createReadOnlyValue","value","writable","enumerable","configurable","manifests","exposureMap","api","Object","keys","forEach","defineProperty","version","identifier","bootstrap","push","LinkClassPlugin","editor","model","schema","extend","allowAttributes","commands","on","evt","args","execute","conversion","for","attributeToElement","view","linkClass","writer","linkElement","createAttributeElement","class","priority","elementToAttribute","name","attributes","viewElement","getAttribute","add","LinkAttributeCommand","RemoveAttributeCommand","attributeKey","doc","document","selection","checkAttributeInSelection","toggleMode","undefined","change","rangesToUnset","isCollapsed","getFirstPosition","getRanges","range","removeAttribute","position","hasAttribute","linkRange","setAttribute","setSelection","getAttributes","node","createText","insert","Range","createOn","ranges","getValidRanges","Command","findLinkRange","createRange","_findBound","lookBack","textNode","nodeBefore","nodeAfter","lastNode","previousSibling","nextSibling","createPositionAt","objectToMap","obj","map","Map","_findRange","i18nRegistry","formattingUnderCursor","selectors","UI","ContentCanvas","linkClasses","props","selectBoxOptions","label","linkingOptions","flexGrow","padding","translate","PureComponent","propTypes","PropTypes","object","React","reactRedux","NeosUiDecorators","ReactUiComponents","CkEditorApi","NeosUiReduxStore"],"mappings":"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","file":"Plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a2fc458754e86bec90ae","export default function readFromConsumerApi(key) {\n    return (...args) => {\n        if (window['@Neos:HostPluginAPI'] && window['@Neos:HostPluginAPI'][`@${key}`]) {\n            return window['@Neos:HostPluginAPI'][`@${key}`](...args);\n        }\n\n        throw new Error(`You are trying to read from a consumer api that hasn't been initialized yet!`);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().CkEditor5;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/ckeditor5-exports/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().plow;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/plow-js/index.js","require(\"./manifest\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import manifest from \"@neos-project/neos-ui-extensibility\";\nimport linkEditorPlugin from \"./linkEditorPlugin\";\nimport LinkEditorOptions from \"./LinkEditorOptions\";\nimport { $add, $get } from \"plow-js\";\n\nconst addPlugin = (Plugin, isEnabled) => (ckEditorConfiguration, options) => {\n  if (!isEnabled || isEnabled(options.editorOptions, options)) {\n    ckEditorConfiguration.plugins = ckEditorConfiguration.plugins || [];\n    return $add(\"plugins\", Plugin, ckEditorConfiguration);\n  }\n  return ckEditorConfiguration;\n};\n\nmanifest(\"Visol.Neos.LinkClass\", {}, globalRegistry => {\n  const config = globalRegistry.get(\"ckEditor5\").get(\"config\");\n  config.set(\n    \"linkClass\",\n    addPlugin(linkEditorPlugin, $get(\"linking.linkClass\"))\n  );\n\n  const containerRegistry = globalRegistry.get(\"containers\");\n\n  containerRegistry.set(\n    \"LinkInput/OptionsPanel/LinkEditorOptions\",\n    LinkEditorOptions\n  );\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/manifest.js","import createConsumerApi from './createConsumerApi';\nimport readFromConsumerApi from './readFromConsumerApi';\n\nexport default readFromConsumerApi('manifest');\n\nexport {\n    createConsumerApi\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/index.js","import {version} from '../package.json';\nimport createManifestFunction from './manifest';\n\nconst createReadOnlyValue = value => ({\n    value,\n    writable: false,\n    enumerable: false,\n    configurable: true\n});\n\nexport default function createConsumerApi(manifests, exposureMap) {\n    const api = {};\n\n    Object.keys(exposureMap).forEach(key => {\n        Object.defineProperty(api, key, createReadOnlyValue(exposureMap[key]));\n    });\n\n    Object.defineProperty(api, '@manifest', createReadOnlyValue(\n        createManifestFunction(manifests)\n    ));\n\n    Object.defineProperty(window, '@Neos:HostPluginAPI', createReadOnlyValue(api));\n    Object.defineProperty(window['@Neos:HostPluginAPI'], 'VERSION', createReadOnlyValue(version));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/createConsumerApi.js","module.exports = {\"name\":\"@neos-project/neos-ui-extensibility\",\"version\":\"1.4.1\",\"description\":\"Extensibility mechanisms for the Neos CMS UI\",\"main\":\"./src/index.js\",\"scripts\":{\"prebuild\":\"check-dependencies && yarn clean\",\"test\":\"yarn jest -- -w 2 --coverage\",\"test:watch\":\"yarn jest -- --watch\",\"build\":\"exit 0\",\"build:watch\":\"exit 0\",\"clean\":\"rimraf ./lib ./dist\",\"lint\":\"eslint src\",\"jest\":\"NODE_ENV=test jest\"},\"devDependencies\":{\"@neos-project/babel-preset-neos-ui\":\"1.4.1\",\"@neos-project/jest-preset-neos-ui\":\"1.4.1\"},\"dependencies\":{\"@neos-project/build-essentials\":\"1.4.1\",\"@neos-project/positional-array-sorter\":\"1.4.1\",\"babel-core\":\"^6.13.2\",\"babel-eslint\":\"^7.1.1\",\"babel-loader\":\"^7.1.2\",\"babel-plugin-transform-decorators-legacy\":\"^1.3.4\",\"babel-plugin-transform-object-rest-spread\":\"^6.20.1\",\"babel-plugin-webpack-alias\":\"^2.1.1\",\"babel-preset-es2015\":\"^6.13.2\",\"babel-preset-react\":\"^6.3.13\",\"babel-preset-stage-0\":\"^6.3.13\",\"chalk\":\"^1.1.3\",\"css-loader\":\"^0.28.4\",\"file-loader\":\"^1.1.5\",\"json-loader\":\"^0.5.4\",\"postcss-loader\":\"^2.0.10\",\"react-dev-utils\":\"^0.5.0\",\"style-loader\":\"^0.21.0\"},\"bin\":{\"neos-react-scripts\":\"./bin/neos-react-scripts.js\"},\"jest\":{\"preset\":\"@neos-project/jest-preset-neos-ui\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@neos-project/neos-ui-extensibility/package.json\n// module id = 7\n// module chunks = 0","export default manifests => {\n    return function (identifier, options, bootstrap) {\n        manifests.push({\n            [identifier]: {\n                options,\n                bootstrap\n            }\n        });\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/manifest.js","import { Plugin } from \"ckeditor5-exports\";\nimport LinkAttributeCommand from \"./linkAttributeCommand\";\nimport RemoveAttributeCommand from \"./removeAttributeCommand\";\n\nexport default class LinkClassPlugin extends Plugin {\n  static get pluginName() {\n    return \"LinkClass\";\n  }\n\n  init() {\n    const editor = this.editor;\n    editor.model.schema.extend(\"$text\", {\n      allowAttributes: [\"linkClass\"]\n    });\n\n    this.editor.commands.get(\"unlink\").on(\"execute\", (evt, args) => {\n      editor.execute(\"removeLinkClass\");\n    });\n\n    editor.conversion.for(\"downcast\").attributeToElement({\n      model: \"linkClass\",\n      view: (linkClass, writer) => {\n        const linkElement = writer.createAttributeElement(\n          \"a\",\n          linkClass\n            ? {\n                class: linkClass\n              }\n            : {},\n          { priority: 5 }\n        );\n        return linkElement;\n      }\n    });\n    editor.conversion.for(\"upcast\").elementToAttribute({\n      view: {\n        name: \"a\",\n        attributes: {\n          class: true\n        }\n      },\n      model: {\n        key: \"linkClass\",\n        value: viewElement => viewElement.getAttribute(\"class\")\n      }\n    });\n\n    editor.commands.add(\n      \"linkClass\",\n      new LinkAttributeCommand(this.editor, \"linkClass\")\n    );\n    editor.commands.add(\n      \"removeLinkClass\",\n      new RemoveAttributeCommand(this.editor, \"linkClass\")\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/linkEditorPlugin.js","import {Command} from \"ckeditor5-exports\";\nimport findLinkRange from \"./_findLinkRange\";\nimport toMap from \"./_toMap\";\n\nexport default class LinkAttributeCommand extends Command {\n    constructor(editor, attributeKey) {\n        super(editor);\n\n        this.attributeKey = attributeKey;\n    }\n\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n\n        this.value = doc.selection.getAttribute(this.attributeKey);\n        this.isEnabled = model.schema.checkAttributeInSelection(\n            doc.selection,\n            this.attributeKey\n        );\n    }\n\n    execute(value) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const toggleMode = value === undefined;\n        value = toggleMode ? !this.value : value;\n\n        model.change(writer => {\n            if (toggleMode && !value) {\n                const rangesToUnset = selection.isCollapsed\n                    ? [\n                        findLinkRange(\n                            selection.getFirstPosition(),\n                            selection.getAttribute(\"linkHref\"),\n                            model\n                        )\n                    ]\n                    : selection.getRanges();\n                for (const range of rangesToUnset) {\n                    writer.removeAttribute(this.attributeKey, range);\n                }\n            } else if (selection.isCollapsed) {\n                const position = selection.getFirstPosition();\n\n                if (selection.hasAttribute(\"linkHref\")) {\n                    const linkRange = findLinkRange(\n                        selection.getFirstPosition(),\n                        selection.getAttribute(\"linkHref\"),\n                        model\n                    );\n                    if (value === false) {\n                        writer.removeAttribute(this.attributeKey, linkRange);\n                    } else {\n                        writer.setAttribute(\n                            this.attributeKey,\n                            value,\n                            linkRange\n                        );\n                        writer.setSelection(linkRange);\n                    }\n                } else if (value !== \"\") {\n                    const attributes = toMap(selection.getAttributes());\n                    attributes.set(this.attributeKey, value);\n                    const node = writer.createText(value, attributes);\n                    writer.insert(node, position);\n                    writer.setSelection(Range.createOn(node));\n                }\n            } else {\n                const ranges = model.schema.getValidRanges(\n                    selection.getRanges(),\n                    this.attributeKey\n                );\n\n                for (const range of ranges) {\n                    if (value === false) {\n                        writer.removeAttribute(this.attributeKey, range);\n                    } else {\n                        writer.setAttribute(this.attributeKey, value, range);\n                    }\n                }\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/linkAttributeCommand.js","export default function findLinkRange(position, value, model) {\n    return model.createRange(\n        _findBound(position, value, true, model),\n        _findBound(position, value, false, model)\n    );\n}\n\nfunction _findBound(position, value, lookBack, model) {\n    let node =\n        position.textNode ||\n        (lookBack ? position.nodeBefore : position.nodeAfter);\n\n    let lastNode = null;\n\n    while (node && node.getAttribute(\"linkHref\") == value) {\n        lastNode = node;\n        node = lookBack ? node.previousSibling : node.nextSibling;\n    }\n\n    return lastNode\n        ? model.createPositionAt(lastNode, lookBack ? \"before\" : \"after\")\n        : position;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_findLinkRange.js","export default function objectToMap(obj) {\n    const map = new Map();\n\n    for (const key in obj) {\n        map.set(key, obj[key]);\n    }\n\n    return map;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_toMap.js","import {Command} from \"ckeditor5-exports\";\n\nfunction _findRange(position, value, model, attributeKey) {\n    return model.createRange(\n        _findBound(position, value, true, model, attributeKey),\n        _findBound(position, value, false, model, attributeKey)\n    );\n}\n\nfunction _findBound(position, value, lookBack, model, attributeKey) {\n    let node =\n        position.textNode ||\n        (lookBack ? position.nodeBefore : position.nodeAfter);\n\n    let lastNode = null;\n\n    while (node && node.getAttribute(attributeKey) == value) {\n        lastNode = node;\n        node = lookBack ? node.previousSibling : node.nextSibling;\n    }\n\n    return lastNode\n        ? model.createPositionAt(lastNode, lookBack ? \"before\" : \"after\")\n        : position;\n}\n\nexport default class RemoveAttributeCommand extends Command {\n    constructor(editor, attributeKey) {\n        super(editor);\n\n        this.attributeKey = attributeKey;\n    }\n\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n\n        this.value = doc.selection.getAttribute(this.attributeKey);\n        this.isEnabled = model.schema.checkAttributeInSelection(\n            doc.selection,\n            this.attributeKey\n        );\n    }\n\n    execute(value) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const toggleMode = value === undefined;\n        value = toggleMode ? !this.value : value;\n\n        model.change(writer => {\n            const rangesToUnset = selection.isCollapsed\n                ? [\n                    _findRange(\n                        selection.getFirstPosition(),\n                        selection.getAttribute(this.attributeKey),\n                        model,\n                        this.attributeKey\n                    )\n                ]\n                : selection.getRanges();\n            for (const range of rangesToUnset) {\n                writer.removeAttribute(this.attributeKey, range);\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/removeAttributeCommand.js","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { $get, $transform } from \"plow-js\";\nimport { neos } from \"@neos-project/neos-ui-decorators\";\n\nimport { SelectBox } from \"@neos-project/react-ui-components\";\nimport { executeCommand } from \"@neos-project/neos-ui-ckeditor5-bindings\";\n\nimport { selectors } from \"@neos-project/neos-ui-redux-store\";\n\n@neos(globalRegistry => ({\n  i18nRegistry: globalRegistry.get(\"i18n\"),\n  options: globalRegistry\n    .get(\"frontendConfiguration\")\n    .get(\"Visol.Neos.LinkClass\")\n}))\n@connect(\n  $transform({\n    formattingUnderCursor: selectors.UI.ContentCanvas.formattingUnderCursor\n  })\n)\nexport default class LinkEditorOptions extends PureComponent {\n  static propTypes = {\n    formattingUnderCursor: PropTypes.object,\n    linkingOptions: PropTypes.object\n  };\n\n  render() {\n    const linkClasses = $get(\"linkClasses\", this.props.options);\n    if (!linkClasses) {\n      return null;\n    }\n\n    const selectBoxOptions = Object.keys(linkClasses).map(value => ({\n      value,\n      label: linkClasses[value]\n    }));\n    return $get(\"linkClass\", this.props.linkingOptions) && selectBoxOptions ? (\n      <div style={{ flexGrow: 1 }}>\n        <div style={{ padding: 8 }}>\n          {this.props.i18nRegistry.translate(\"Visol.Neos.LinkClass:Main:label\")}\n          <SelectBox\n            options={selectBoxOptions}\n            optionValueField=\"value\"\n            value={$get(\"linkClass\", this.props.formattingUnderCursor)}\n            onValueChange={value => {\n              executeCommand(\"linkClass\", value, false);\n            }}\n            placeholder={this.props.i18nRegistry.translate(\n              \"Visol.Neos.LinkClass:Main:placeholder\"\n            )}\n            allowEmpty={true}\n          />\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/LinkEditorOptions.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().React;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().PropTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().reactRedux;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react-redux/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiDecorators;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-decorators/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().ReactUiComponents;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().CkEditorApi;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-ckeditor5-bindings/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiReduxStore;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js"],"sourceRoot":""}